package com.fengxing.mcp.fdialog;import android.app.Dialog;import android.support.annotation.IdRes;import android.support.v7.widget.RecyclerView;import android.util.SparseArray;import android.view.View;import java.util.concurrent.atomic.DoubleAccumulator;/** * Created by fengxing on 2018/5/18. */public class BindViewHolder extends RecyclerView.ViewHolder {    private View mView;    private FDialog dialog;    private SparseArray<View> views;    public BindViewHolder(View view) {        super(view);        this.mView = view;        this.views = new SparseArray<>();    }    public BindViewHolder(View view, FDialog dialog) {        this(view);        this.mView = view;        this.dialog = dialog;        views = new SparseArray<>();    }    public <T extends View> T getView(@IdRes int id) {        View view = views.get(id);        if (view == null) {            view = mView.findViewById(id);            views.put(id, view);        }        return (T) view;    }    public void addOnClickListener(@IdRes int id) {        final View view = getView(id);        if (view != null) {            if (!view.isClickable()) {                view.setClickable(true);            }            view.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (dialog.getOnViewClickListener() != null) {                        dialog.getOnViewClickListener().onViewClick(view, BindViewHolder.this, dialog);                    }                }            });        }    }    public void setOnLongClickListener(@IdRes int id, View.OnLongClickListener listener) {        View view = getView(id);        view.setOnLongClickListener(listener);    }}