package com.fengxing.mcp.fdialog;import android.app.Activity;import android.app.AlertDialog;import android.app.Dialog;import android.app.Fragment;import android.app.FragmentTransaction;import android.content.DialogInterface;import android.content.Intent;import android.net.Uri;import android.os.Message;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.Gravity;import android.view.KeyEvent;import android.view.View;import android.widget.Button;import android.widget.TextView;import android.widget.Toast;public class MainActivity extends AppCompatActivity {    private static final String TAG = "MainActivity";    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        ((Button) findViewById(R.id.btn_showDialog)).setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //showSystemDialog();                Log.d(TAG, "onClick: ");                showFDialog();            }        });    }    private void showFDialog() {        new FDialog.Builder()                //.setDimAmount(0.6f)                .setWidth(0.8f)                .setAnimationStyle(R.style.Dialog_Window_Animation)                .setResLayout(R.layout.dialog_demo)                .setOnBindViewListener(new OnBindViewListener() {                    @Override                    public void bindView(BindViewHolder viewHolder) {                        ((Button) viewHolder.getView(R.id.btn_ensure)).setText("更改");                        ((TextView) (viewHolder.getView(R.id.tv_input))).setText("修改布局文件");                        ((Button) viewHolder.getView(R.id.btn_ensure)).setOnClickListener(new View.OnClickListener() {                            @Override                            public void onClick(View v) {                                Log.d(TAG, "onClick: 在此几点");                            }                        });                    }                })                .setOnViewClickListener(new OnViewClickListener() {                    @Override                    public void onViewClick(View view, BindViewHolder holder, FDialog dialog) {                        if (view.getId() == R.id.btn_cancel) {                            Log.d(TAG, "onViewClick: " + view.getId());                        } else if (view.getId() == R.id.btn_ensure) {                            Log.d(TAG, "onViewClick: " + view.getId());                        }                    }                })                .setResIds(R.id.btn_ensure, R.id.btn_cancel)                .create().show(getFragmentManager(), "666");    }    private void showSystemDialog() {        AlertDialog alertDialog = new AlertDialog.Builder(MainActivity.this)                .setIcon(R.drawable.ic_launcher_background)                .setTitle("测试AlertDialog")                .setMessage("源码分析中。。。")                .setNegativeButton("确定", new DialogInterface.OnClickListener() {                    @Override                    public void onClick(DialogInterface dialog, int which) {                    }                })                .setPositiveButton("取消", new DialogInterface.OnClickListener() {                    @Override                    public void onClick(DialogInterface dialog, int which) {                        dialog.dismiss();                    }                })                .setNeutralButton("按钮", new DialogInterface.OnClickListener() {                    @Override                    public void onClick(DialogInterface dialog, int which) {                        Toast.makeText(MainActivity.this, "点击第三个按钮", Toast.LENGTH_LONG).show();                    }                })                .create();////        alertDialog.setOnKeyListener(new DialogInterface.OnKeyListener() {//            @Override//            public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {//                Log.d(TAG, "onKey: " + dialog);//                Log.d(TAG, "onKey: " + keyCode);//                Log.d(TAG, "onKey: " + event.toString());//                return false;//            }//        });//        alertDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {//            @Override//            public void onCancel(DialogInterface dialog) {//                Log.d(TAG, "onCancel: " + dialog.toString());//            }//        });//        alertDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {//            @Override//            public void onDismiss(DialogInterface dialog) {//                Log.d(TAG, "onDismiss: " + dialog.toString());//            }//        });//        alertDialog.setOnShowListener(new DialogInterface.OnShowListener() {//            @Override//            public void onShow(DialogInterface dialog) {//                Log.d(TAG, "onShow: " + dialog.toString());//            }//        });////        //另一种形式//        alertDialog.setTitle("对话框标题");//        alertDialog.setIcon(R.drawable.ic_launcher_foreground);//        alertDialog.setMessage("对话框内容");//        alertDialog.setButton(DialogInterface.BUTTON_POSITIVE, "888", new DialogInterface.OnClickListener() {//            @Override//            public void onClick(DialogInterface dialog, int which) {////            }//        });//        alertDialog.setButton(DialogInterface.BUTTON_NEGATIVE, "999", new DialogInterface.OnClickListener() {//            @Override//            public void onClick(DialogInterface dialog, int which) {////            }//        });//        Button button = alertDialog.getButton(DialogInterface.BUTTON_POSITIVE);//        if (button != null) {//            button.setText("更改");//        }////        alertDialog.setButton(DialogInterface.BUTTON_NEUTRAL, "第三个按钮", new DialogInterface.OnClickListener() {//            @Override//            public void onClick(DialogInterface dialog, int which) {////            }//        });        alertDialog.show();    }//    public void showDialog(String dialogTag) {//        FragmentTransaction transaction = getFragmentManager().beginTransaction();//        Fragment fragment = getFragmentManager().findFragmentByTag(dialogTag);//        if (fragment != null) {//            transaction.remove(fragment);//        }//        transaction.addToBackStack(null);//        BaseDialogFragment dialogFragment =  BaseDialogFragment.newInstance(1);//        dialogFragment.show(transaction,dialogTag);//    }}